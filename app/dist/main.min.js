!function(){angular.module("ys.icebreaker",["angular-storage","ngMaterial","ngSanitize","ui.router"])}(),function(e){"use strict";var r=e.module("ys.icebreaker");r.run(["$http","$log","icebreakerService",function(e,r,a){var t=a.initIcebreaker();t.then(function(){r.info("initialization completed!")})}])}(angular),function(){"use strict";var e=angular.module("ys.icebreaker");e.config(["$stateProvider","$urlRouterProvider",function(e,r){r.otherwise("/game"),e.state("game",{url:"/game",template:"<ys-icebreaker-game></ys-icebreaker-game>",controller:"icebreakerGameController"})}])}(),function(e){"use strict";var r=function(e,r,a,t,i){function n(){t.$broadcast("reset"),i.reset()}t.$on("gameover",function(e){}),t.$on("reset",function(e){var a=r.simple({textContent:"The game was successfully reset.",position:"top right",action:"Dismiss"});r.show(a)}),t.play=function(){var e=i.getRandomIcebreaker();t.icebreaker=e},t.reset=function(r){var a=i.getIcebreakers();if(a.length>0){var t=e.confirm().title("Reset the game?").textContent("There is/are ("+a.length+") question(s) left. Reset?").ariaLabel("Confirm").targetEvent(r).ok("Yes").cancel("No");e.show(t).then(function(){n()},function(){})}else n()}};r.$inject=["$mdDialog","$mdToast","$log","$scope","icebreakerService"],e.module("ys.icebreaker").controller("icebreakerGameController",r)}(angular),function(e){var r=e.module("ys.icebreaker"),a=function(){var e='<div id="side-controls" class="right-align"><a class="btn-floating ys" ng-click="reset($event)"><i class="fa fa-repeat"></i></a><a class="btn-floating ys" ng-href="http://github.com/amcpanaligan/ys.icebreaker"><i class="fa fa-github"></i></a></div><div class="container center-align"><div class="row"><div class="col s12 m12"><a class="waves-effect waves-light btn-large ys" ng-click="play()">Play</a><div class="card-panel ys" ng-show="icebreaker"><h2 class="white-text" ng-bind="icebreaker"></h2></div></div></div></div>';return{replace:!1,restrict:"E",template:e}};r.directive("ysIcebreakerGame",a)}(angular),function(e,r){"use strict";var a=function(e,a,t,i,n){function s(){a.info("initializing icebreaker service...");var r=i.resolve();return u.icebreakers=n.get("icebreakers"),u.icebreakers||(r=e.get("res/icebreakers.json").then(function(e){a.info('icebreakers was successfully read from the file "icebreakers.json"'),n.set("icebreakers",e.data)},function(e){a.warn("icebreakers.json get error",e)})),r}function c(){var e=n.get("icebreakers");if(e){var i=e.length-1,s=r.floor(r.random()*i+1);if(-1===i)return a.info("All questions are used, game over. Please reset"),t.$broadcast("gameover"),"No questions left. Please reset.";0===i&&(s=0);var c=e[s];return e.splice(s,1),n.set("icebreakers",e),c}}function o(){var r=e.get("res/icebreakers.json").then(function(e){a.info("Icebreaker was successfully reset. Questions reloaded from file."),n.set("icebreakers",e.data)},function(e){a.warn("icebreakers.json get error",e)});return r}function l(){return n.get("icebreakers")}var u={};return u.initIcebreaker=s,u.getRandomIcebreaker=c,u.reset=o,u.getIcebreakers=l,u};a.$inject=["$http","$log","$rootScope","$q","store"],e.module("ys.icebreaker").service("icebreakerService",a)}(angular,Math);